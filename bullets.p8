pico-8 cartridge // http://www.pico-8.com
version 38
__lua__
function _init()
	gposx=0
	gposy=63
	poke(0x5f2d, 1)
	sp=1
	ibullets()
end

function _update()
	gposy=stat(33)
	
	if btnp(❎) then
		shoot(gposy)
	end
	
	ubullets()
end

function _draw()
	cls()
	if btnp(❎) then
		spr(2,8,gposy)
		sp=17
	end
	spr(sp,0,gposy)
	sp=1
	dbullets()
end


-->8
--bullets--

function ibullets()
	buls={}
end

function ubullets()
	
	for b in all(buls) do
		b.x=b.x+b.spd
		
		if b.x > 128 then
			del(buls,b)
		end
	end
	
	
end

function dbullets()
	
	for b in all(buls) do
		spr(4,b.x,b.y)
	end
	
end

function shoot(gy)
	
	add(buls,{
		x=8,
		y=gy,
		spd=4
	})
	
end

-->8
--backup
--function ibullets()
--	buls={}
--end
--
--
--function ubullets()
--	for b in all(buls) do
--		b.x+=b.spd
--		if b.x>128 then del(buls,b) end
--	end
--end
--
--function dbullets()
--	for b in all(buls) do
--		spr(4,b.x,b.y)
--	end
--end
--
--function shoot(startloc)
--	add(buls, {
--		x=8,
--		y=startloc,
--		spd=5
--	})
--end
__gfx__
0000000010001110cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000071116661c7ccc00000000000009990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007006161777177777cc00000000009aaaa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000d161ddd17777777c000000000aa777a90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700051d1555177777cc00000000009aaaa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070051115551c7ccc00000000000009990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000010001110cc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000100111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000007116661c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000611777170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000d11ddd170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000511555170000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000005115551c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000100111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
